<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>かけ算のきまり学習</title>
    <style>
        :root {
            --color-white: rgba(255, 255, 255, 1);
            --color-bg: rgba(245, 248, 250, 1);
            --color-text: rgba(19, 52, 59, 1);
            --color-border: rgba(94, 82, 64, 0.2);
            --color-header: rgba(173, 216, 230, 1);
            --color-green: rgba(144, 238, 144, 1);
            --color-pink: rgba(255, 192, 203, 1);
            --color-purple: rgba(200, 162, 200, 1);
            --color-yellow: rgba(255, 255, 200, 1);
            --color-primary: rgba(33, 128, 141, 1);
            --color-primary-hover: rgba(29, 116, 128, 1);
        }

        body {
            font-family: "ヒラギノ角ゴ Pro", "Hiragino Kaku Gothic Pro", "メイリオ", Meiryo, sans-serif;
            background: var(--color-bg);
            padding: 20px;
            margin: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: var(--color-white);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .title {
            text-align: center;
            color: var(--color-text);
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: bold;
        }

        .header {
            background: var(--color-header);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            margin-bottom: 16px;
            font-weight: bold;
            color: var(--color-text);
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .pen-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 50px;
            height: 50px;
            border: 2px solid #999;
            border-radius: 8px;
            background: var(--color-white);
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 20px;
        }

        .pen-button.active {
            border: 3px solid var(--color-text);
            box-shadow: 0 0 0 3px var(--color-primary);
            transform: scale(1.05);
        }

        .pen-button:hover:not(.active) {
            transform: scale(1.05);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        .pen-indicator {
            font-size: 12px;
            color: var(--color-text);
            margin-left: 8px;
            font-weight: bold;
            min-width: 80px;
        }

        .reset-btn {
            padding: 10px 20px;
            background: var(--color-primary);
            color: var(--color-white);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-weight: bold;
            font-size: 14px;
            transition: background 0.3s ease;
        }

        .reset-btn:hover {
            background: var(--color-primary-hover);
        }

        .table-wrapper {
            overflow-x: auto;
            margin-top: 16px;
        }

        .multiplication-table {
            width: 100%;
            border-collapse: collapse;
           background: var(--color-white);
        }

        .multiplication-table td {
            width: 60px;
            height: 40px;
            border: 1px solid var(--color-border);
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            user-select: none;
            transition: background 0.2s ease;
        }

        .multiplication-table td.header {
            background: rgba(100, 150, 200, 1);
            color: var(--color-white);
            font-weight: bold;
            cursor: default;
        }

        .multiplication-table td.row-header {
            background: rgba(200, 180, 100, 1);
            color: var(--color-text);
            font-weight: bold;
            cursor: default;
        }

        .multiplication-table td.cell-content {
            font-weight: 500;
            font-size: 16px;
            color: var(--color-text);
        }

        .multiplication-table td.cell-content:hover:not(.disabled) {
            opacity: 0.7;
        }

        .multiplication-table td.disabled {
            cursor: default;
        }

        .multiplication-table td.colored-green {
            background: var(--color-green);
            font-weight: bold;
        }

        .multiplication-table td.colored-pink {
            background: var(--color-pink);
            font-weight: bold;
        }

        .multiplication-table td.colored-purple {
            background: var(--color-purple);
            font-weight: bold;
        }

        .multiplication-table td.colored-yellow {
            background: var(--color-yellow);
            font-weight: bold;
        }

        .pen-colors {
            display: flex;
            gap: 8px;
        }

        @media (max-width: 768px) {
            .container {
                padding: 12px;
            }

            .multiplication-table td {
                width: 50px;
                height: 35px;
                font-size: 12px;
            }

            .pen-button {
                width: 45px;
                height: 45px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="title">かけ算のきまり</div>
        <div class="header">かけるかずを選んでから、答えをタップしてね！</div>

        <div class="controls">
            <div class="pen-colors">
                <button class="pen-button active" data-color="green" title="緑">✏️</button>
                <button class="pen-button" data-color="pink" title="ピンク">✏️</button>
                <button class
